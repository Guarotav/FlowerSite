<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>MyFreeCssTemplates.com free CSS template</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <link href="styles.css" rel="stylesheet" type="text/css" />
    <link
      rel="stylesheet"
      href="nivo-slider.css"
      type="text/css"
      media="screen"
    />
    <style>
      .title {
        color: white;
        margin-left: 10px;
        background-color: darkred;
        font-family: Arial, Helvetica, sans-serif;
        font-size: small;
        float: right;
        width: 30%;
        font-weight: bolder;
        font-size: 1.5em;
        font-variant: small-caps;
        text-align: right;
        padding: 20px;
      }
      .left {
        float: left;
        width: auto;
        margin-right: 10px;
      }
      .size {
        text-align: justify;
        font: 1.7em sans-serif;
        margin: 0px;
        padding: 5px;
      }
      .checkout-form {
        background: lightgray;
        border: solid 2px darkred;
        padding: 20px;
        margin: 10px;
      }
      .form-group {
        margin: 10px 0;
      }
      .form-group label {
        display: inline-block;
        width: 150px;
        font-weight: bold;
        color: darkred;
      }
      .form-group input {
        width: 200px;
        padding: 5px;
        border: solid 1px darkred;
      }
      .order-summary {
        background: lightyellow;
        border: solid 2px green;
        padding: 15px;
        margin: 10px;
      }
      td {
        border: solid 1px red;
        padding: 5px;
      }
      .place-order-btn {
        background: green;
        color: white;
        padding: 15px 30px;
        font-size: 18px;
        border: none;
        cursor: pointer;
        margin: 20px;
      }
      .place-order-btn:hover {
        background: darkgreen;
      }
    </style>
    <script src="js/cookiemanager.js"></script>
    <script src="js/catalog.js"></script>
    <script src="js/shoppingcart.js"></script>
    <script>
      function displayOrderSummary() {
        var str = "<h3>Order Summary:</h3><table>";
        str +=
          "<tr><th>NAME</th><th>QUANTITY</th><th>PRICE</th><th>SUBTOTAL</th></tr>";
        let cart = new ShoppingCart(getCookie("whoami"));
        let items = cart.getItemsOrdered();
        var hasItems = false;
        
        for (let i = 0; i < items.length; i++) {
          let qty = items[i].getNumItems();
          if (qty != null && qty > 0) {
            str += "<tr>";
            str += "<td>" + items[i].getItemName() + "</td>";
            str += "<td style='text-align:center'>" + qty + "</td>";
            str += "<td style='text-align:right'>$" + items[i].getUnitCost() + "</td>";
            str += "<td style='text-align:right'>$" + items[i].getTotalCost() + "</td>";
            str += "</tr>";
            hasItems = true;
          }
        }
        
        if (hasItems) {
          str += "<tr><td colspan='3' style='text-align:left;font-weight:bold'>TOTAL</td>";
          str += "<td style='text-align:right;font-weight:bold'>$" + cart.getTotalCost() + "</td></tr>";
          str += "</table>";
          document.getElementById("orderSummary").innerHTML = str;
        } else {
          document.getElementById("orderSummary").innerHTML = 
            "<h3>Your cart is empty. <a href='products.html'>Continue Shopping</a></h3>";
        }
      }
      
      function placeOrder() {
        // Get form data
        var firstName = document.getElementById("firstName").value;
        var lastName = document.getElementById("lastName").value;
        var email = document.getElementById("email").value;
        var address = document.getElementById("address").value;
        var city = document.getElementById("city").value;
        var zipCode = document.getElementById("zipCode").value;
        
        // Basic validation
        if (!firstName || !lastName || !email || !address || !city || !zipCode) {
          alert("Please fill in all required fields.");
          return;
        }
        
        // Store order info in cookies for thank you page
        setCookie("orderFirstName", firstName, 1);
        setCookie("orderLastName", lastName, 1);
        setCookie("orderEmail", email, 1);
        
        // Clear the shopping cart
        let cart = new ShoppingCart(getCookie("whoami"));
        cart.emptyShoppingCart();
        
        // Redirect to thank you page
        location.href = "thankyou.html";
      }
    </script>
  </head>
  <body onload="displayOrderSummary()">
    <script>
      if(getCookie('flag') !="true") location.href='login.html';
    </script>
    <div id="main">
      <!-- header begins -->
      <div id="header">
        <div id="buttons">
          <script src="menu.js"></script>
        </div>
        <div id="logo">
          <b><a href="#">BMCC ELECTRONICS</a></b>
          <h2>
            <a href="#"><small>Small Company Slogan Goes Here</small></a>
          </h2>
        </div>
      </div>
      <!-- header ends -->
      <div class="top">
        <div id="slider-wrapper">
          <div id="slider" class="nivoSlider">
            <img src="images/top.jpg" alt="" />
            <img src="images/top2.jpg" alt="" />
            <img src="images/top3.jpg" alt="" />
          </div>
        </div>

        <script type="text/javascript" src="lib/jquery-1.4.3.min.js"></script>
        <script
          type="text/javascript"
          src="lib/jquery.nivo.slider.pack.js"
        ></script>
        <script type="text/javascript">
          $(window).load(function () {
            $("#slider").nivoSlider();
          });
        </script>
      </div>
      <div style="height: 10px"></div>
      <!-- content begins -->
      <div id="content" style="border: solid darkred 15px">
        <div class="hh1">CHECKOUT</div>
        <p>&nbsp;</p>
        
        <!-- Order Summary -->
        <div class="order-summary">
          <div id="orderSummary"></div>
        </div>
        
        <!-- Customer Information Form -->
        <div class="checkout-form">
          <h3>Shipping Information:</h3>
          <form>
            <div class="form-group">
              <label for="firstName">First Name:*</label>
              <input type="text" id="firstName" name="firstName" required />
            </div>
            <div class="form-group">
              <label for="lastName">Last Name:*</label>
              <input type="text" id="lastName" name="lastName" required />
            </div>
            <div class="form-group">
              <label for="email">Email:*</label>
              <input type="email" id="email" name="email" required />
            </div>
            <div class="form-group">
              <label for="address">Address:*</label>
              <input type="text" id="address" name="address" required />
            </div>
            <div class="form-group">
              <label for="city">City:*</label>
              <input type="text" id="city" name="city" required />
            </div>
            <div class="form-group">
              <label for="zipCode">Zip Code:*</label>
              <input type="text" id="zipCode" name="zipCode" required />
            </div>
            
            <center>
              <button type="button" class="place-order-btn" onclick="placeOrder()">
                PLACE ORDER
              </button>
              <br><br>
              <a href="cart.html" style="color:darkred;">‚Üê Back to Cart</a>
            </center>
          </form>
        </div>
        
        <div style="clear: both"></div>
      </div>
      <!-- content ends -->
      <div style="height: 15px"></div>
      <!-- bottom begin -->
      <div id="bottom_bot">
        <div id="bottom">
          <div style="clear: both; height: 20px"></div>
        </div>
      </div>
      <!-- bottom end -->
      <!-- footer begins -->
      <div id="footer">
        <div style="float: left; width: 500">
          Copyright 2011.
          <!-- Do not remove -->Designed by
          <a
            href="http://www.metamorphozis.com/free_templates/free_templates.php"
            title="Free Web Templates"
            >Free Web Templates</a
          >, coded by
          <a
            href="http://www.myfreecsstemplates.com/"
            title="Free CSS Templates"
            >Free CSS Templates</a
          ><!-- end --><br />
          <a href="#">Privacy Policy</a> | <a href="#">Terms of Use</a> |
          <a
            href="http://validator.w3.org/check/referer"
            title="This page validates as XHTML 1.0 Transitional"
            ><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a
          >
          |
          <a
            href="http://jigsaw.w3.org/css-validator/check/referer"
            title="This page validates as CSS"
            ><abbr title="Cascading Style Sheets">CSS</abbr></a
          >
        </div>
        <div style="float: right; width: 500; padding: 0px 0px 0px 0px">
          <a href="#"><img src="images/fu_i5.gif" class="fu_i" alt="" /></a>
          <a href="#"><img src="images/fu_i4.gif" class="fu_i" alt="" /></a>
          <a href="#"><img src="images/fu_i3.gif" class="fu_i" alt="" /></a>
          <a href="#"><img src="images/fu_i2.gif" class="fu_i" alt="" /></a>
          <a href="#"><img src="images/fu_i1.gif" class="fu_i" alt="" /></a>
        </div>
      </div>
      <!-- footer ends -->
    </div>
  </body>
</html>
